---
# file: wordpress/defaults/main.yml

wordpress_dir_credentials: "{{ inventory_dir }}/_private/credentials"
wordpress_dir_www_root: /srv/www
wordpress_user_www: www-data
wordpress_group_www: www-data
wordpress_dir_mode: '0755'
wordpress_file_mode: '0644'
wordpress_default_restore_saved_db: false
wordpress_default_db_host: localhost

wordpress_dir_structure:
  base:        ''
  public:      '/public'
  app:         '/public/app'
  mu_plugins:  '/public/app/mu-plugins'
  plugins:     '/public/app/plugins'
  themes:      '/public/app/themes'
  uploads:     '/public/app/uploads'
  wp:          '/public/wp'
  config:      '/config'
  vendor:      '/vendor'

wordpress_file_static:
  - src:   'application.php'
    dest:  '{{ wordpress_dir_structure.config }}'
  - src:   'index.php'
    dest:  '{{ wordpress_dir_structure.public }}'
  - src:   'wp-config'
    dest:  '{{ wordpress_dir_structure.public }}'

# Example Site Configuration
wordpress_sites:
  - domain: example.test
    #db_name: example_db
    #db_user:
    #db_password
    #db_host: localhost
    #restore_saved_db: false
    site_install: true
    site_title: Example Site
    admin_user: admin
    admin_password: admin
    admin_email: admin@example.dev
    system_cron: true
    run_composer: true
    multisite:
      enabled: false
    env:
      wp_home: http://example.dev
      wp_siteurl: http://example.dev/wp
      wp_env: development
      db_name: example_dev
      db_user: example_dbuser
      db_password: example_dbpassword
